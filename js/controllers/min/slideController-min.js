!function($){angular.module("rakugaki").controller("SlideController",["$rootScope","$scope","$timeout","$state","$stateParams","$sce",function($rootScope,$scope,$timeout,$state,$stateParams,$sce){$scope.modal={slug:"",name:"",wp:"",ghost:"",show:!1},$scope.iframeSource="",$scope.openModal=function(){$scope.$parent.modalShown=!0,$(".slide-nav, .info-trigger, .nav-trigger").fadeOut(),$scope.modal.show=!0},$scope.closeModal=function(){$scope.$parent.modalShown=!1,$scope.modal.show=!1,$timeout(function(){$(".slide-nav, .info-trigger, .nav-trigger").fadeIn()},500)},$scope.initKeyControl=function(){$(document).keydown(function(event){if("textarea"!==event.target.type&&"text"!==event.target.type){var keyCode=event.keyCode||event.which;switch(keyCode){case 27:$(".md-close").click()}}})},$scope.initLogoAnimations=function(){$(".bamboo").hover(function(){$(".bamboo .trigger").addClass("shake")},function(){$(".bamboo .trigger").removeClass("shake")}),$("#kcalb-logo").hover(function(){$("#kcalb .logo").addClass("bounce")},function(){$("#kcalb .logo").removeClass("bounce")}),$("#springtide-logo").hover(function(){$(this).addClass("tada")},function(){$(this).removeClass("tada")})},$scope.prenventPropagation=function(ev){ev.stopPropagation()},$scope.preventDefault=function(ev){ev.preventDefault()},$scope.setupIframe=function(){$scope.iframeSource=$sce.trustAsResourceUrl($scope.modal.demo)},$scope.initPerfectScrollbar=function(){$(".resume-wrapper").perfectScrollbar()},$scope.init=function(){$scope.initPerfectScrollbar(),$scope.initLogoAnimations(),$scope.initKeyControl(),$timeout(function(){$scope.$parent.inTransition=!1},320),$timeout(function(){("yabu"==$state.current.name||"kcalb"==$state.current.name)&&($scope.modal={slug:$state.current.data.slug,name:$state.current.data.name,wp:$state.current.data.wp,ghost:$state.current.data.ghost,demo:$state.current.data.demo,show:!1},$scope.setupIframe())},500)},$scope.init(),$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){})}])}(jQuery,angular);